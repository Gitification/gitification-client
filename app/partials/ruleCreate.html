<h1>Rule management page</h1>
<div class="container-fluid">
    <div class="row-fluid">
        <div ng-controller="RuleCreateCtrl" class="span10">
            <!--Body content-->
            <form class="form-horizontal">
                <fieldset>
                    <legend>Create a rule</legend>
                    <div class="control-group">
                        <label class="control-label">Name</label>

                        <div class="controls">
                            <input ng-model="rule.name" class="input-xlarge" type="text" placeholder="rule name"
                                   required>
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="control-label">Badge</label>

                        <div class="controls">
                            <select ng-model="badge" required ng-options="i.name for i in allBadges">
                                <option value="">-- Chose a badge --</option>
                            </select>
                        </div>
                    </div>
                    <hr/>


                    <div ng-repeat="thres in allThreshold">
                        <div class="control-group">
                            <label class="control-label">Event type</label>

                            <div class="controls">
                                <select ng-model="thres.event_type" required ng-options="i.name as i.name for i in allEventTypes">
                                    <option value="">-- Chose an event type --</option>
                                </select>
                                Threshold: <input ng-model="thres.threshold" type="number" placeholder="threshold"
                                                  required>
                                [<a href ng-click="allThreshold.splice($index, 1)">X</a>]
                            </div>

                        </div>
                    </div>
                    [<a href ng-click="allThreshold.push({})">add</a>]

                    <hr/>


                    <div class="control-group">
                        <div class="controls">
                            <button ng-click="cancel()" type="button" class="btn">Cancel</button>
                            <button ng-click="create(rule)" type="submit" class="btn btn-success">Create</button>
                        </div>
                    </div>
                </fieldset>
            </form>
        </div>
    </div>
</div>